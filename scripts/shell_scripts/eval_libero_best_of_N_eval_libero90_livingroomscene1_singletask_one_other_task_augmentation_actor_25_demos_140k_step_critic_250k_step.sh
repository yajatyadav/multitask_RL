#!/bin/bash

jobid0=$(WANDB_SERVICE_WAIT=86400 WANDB_NETWORK_TIMEOUT=600 WANDB_FILE_TRANSFER_TIMEOUT=1200 WANDB_INIT_TIMEOUT=300 WANDB_HTTP_TIMEOUT=600 WANDB_RETRY_ATTEMPTS=15 WANDB_RETRY_WAIT_MIN=5 WANDB_RETRY_WAIT_MAX=120 MUJOCO_GL=egl XLA_PYTHON_CLIENT_PREALLOCATE=false OMP_NUM_THREADS=1 OPENBLAS_NUM_THREADS=1 MKL_NUM_THREADS=1 VECLIB_MAXIMUM_THREADS=1 NUMEXPR_NUM_THREADS=1 sbatch -A co_rail -p savio4_gpu --gres=gpu:A5000:1 -N 1 -n 4 -c 4 --qos=rail_gpu4_high -t 4:00:00 --mem=60G --parsable --requeue --comment="eval_best_of_N.n1" scripts/automatic/run.sh 'uv run evaluation/brc_eval_scripts/eval_libero_best_of_N_single_n.py --n 1 --actor_restore_path "exp/multitask_RL/bcflowactor_only/libero_90-living_room_scene1/bcflowactor_livingroomscene1__alphabet_soup_25_demos_IMAGE_sd00020251228_175933/params_140000.pkl" --critic_restore_path "exp/multitask_RL/instruction_following_Q/libero_90-living_room_scene1/libero90_livingroomscene1_singletask_one_other_task__augmentation_IMAGE_sd00020251226_215816/params_250000.pkl" --env_name "libero_90-living_room_scene1" --task_name "pick_up_the_alphabet_soup_and_put_it_in_the_basket|pick_up_the_ketchup_and_put_it_in_the_basket" --wandb_entity yajatyadav --wandb_project multitask_RL --wandb_group eval_libero_best_of_N --wandb_name eval_libero90_livingroomscene1_singletask_one_other_task_augmentation_actor_25_demos_140k_step_critic_250k_step --output_dir ./eval_results') && echo $jobid0
jobid1=$(WANDB_SERVICE_WAIT=86400 WANDB_NETWORK_TIMEOUT=600 WANDB_FILE_TRANSFER_TIMEOUT=1200 WANDB_INIT_TIMEOUT=300 WANDB_HTTP_TIMEOUT=600 WANDB_RETRY_ATTEMPTS=15 WANDB_RETRY_WAIT_MIN=5 WANDB_RETRY_WAIT_MAX=120 MUJOCO_GL=egl XLA_PYTHON_CLIENT_PREALLOCATE=false OMP_NUM_THREADS=1 OPENBLAS_NUM_THREADS=1 MKL_NUM_THREADS=1 VECLIB_MAXIMUM_THREADS=1 NUMEXPR_NUM_THREADS=1 sbatch -A co_rail -p savio4_gpu --gres=gpu:A5000:1 -N 1 -n 4 -c 4 --qos=rail_gpu4_high -t 4:00:00 --mem=60G --parsable --requeue --comment="eval_best_of_N.n2" scripts/automatic/run.sh 'uv run evaluation/brc_eval_scripts/eval_libero_best_of_N_single_n.py --n 2 --actor_restore_path "exp/multitask_RL/bcflowactor_only/libero_90-living_room_scene1/bcflowactor_livingroomscene1__alphabet_soup_25_demos_IMAGE_sd00020251228_175933/params_140000.pkl" --critic_restore_path "exp/multitask_RL/instruction_following_Q/libero_90-living_room_scene1/libero90_livingroomscene1_singletask_one_other_task__augmentation_IMAGE_sd00020251226_215816/params_250000.pkl" --env_name "libero_90-living_room_scene1" --task_name "pick_up_the_alphabet_soup_and_put_it_in_the_basket|pick_up_the_ketchup_and_put_it_in_the_basket" --wandb_entity yajatyadav --wandb_project multitask_RL --wandb_group eval_libero_best_of_N --wandb_name eval_libero90_livingroomscene1_singletask_one_other_task_augmentation_actor_25_demos_140k_step_critic_250k_step --output_dir ./eval_results') && echo $jobid1
jobid2=$(WANDB_SERVICE_WAIT=86400 WANDB_NETWORK_TIMEOUT=600 WANDB_FILE_TRANSFER_TIMEOUT=1200 WANDB_INIT_TIMEOUT=300 WANDB_HTTP_TIMEOUT=600 WANDB_RETRY_ATTEMPTS=15 WANDB_RETRY_WAIT_MIN=5 WANDB_RETRY_WAIT_MAX=120 MUJOCO_GL=egl XLA_PYTHON_CLIENT_PREALLOCATE=false OMP_NUM_THREADS=1 OPENBLAS_NUM_THREADS=1 MKL_NUM_THREADS=1 VECLIB_MAXIMUM_THREADS=1 NUMEXPR_NUM_THREADS=1 sbatch -A co_rail -p savio4_gpu --gres=gpu:A5000:1 -N 1 -n 4 -c 4 --qos=rail_gpu4_high -t 4:00:00 --mem=60G --parsable --requeue --comment="eval_best_of_N.n4" scripts/automatic/run.sh 'uv run evaluation/brc_eval_scripts/eval_libero_best_of_N_single_n.py --n 4 --actor_restore_path "exp/multitask_RL/bcflowactor_only/libero_90-living_room_scene1/bcflowactor_livingroomscene1__alphabet_soup_25_demos_IMAGE_sd00020251228_175933/params_140000.pkl" --critic_restore_path "exp/multitask_RL/instruction_following_Q/libero_90-living_room_scene1/libero90_livingroomscene1_singletask_one_other_task__augmentation_IMAGE_sd00020251226_215816/params_250000.pkl" --env_name "libero_90-living_room_scene1" --task_name "pick_up_the_alphabet_soup_and_put_it_in_the_basket|pick_up_the_ketchup_and_put_it_in_the_basket" --wandb_entity yajatyadav --wandb_project multitask_RL --wandb_group eval_libero_best_of_N --wandb_name eval_libero90_livingroomscene1_singletask_one_other_task_augmentation_actor_25_demos_140k_step_critic_250k_step --output_dir ./eval_results') && echo $jobid2
jobid3=$(WANDB_SERVICE_WAIT=86400 WANDB_NETWORK_TIMEOUT=600 WANDB_FILE_TRANSFER_TIMEOUT=1200 WANDB_INIT_TIMEOUT=300 WANDB_HTTP_TIMEOUT=600 WANDB_RETRY_ATTEMPTS=15 WANDB_RETRY_WAIT_MIN=5 WANDB_RETRY_WAIT_MAX=120 MUJOCO_GL=egl XLA_PYTHON_CLIENT_PREALLOCATE=false OMP_NUM_THREADS=1 OPENBLAS_NUM_THREADS=1 MKL_NUM_THREADS=1 VECLIB_MAXIMUM_THREADS=1 NUMEXPR_NUM_THREADS=1 sbatch -A co_rail -p savio4_gpu --gres=gpu:A5000:1 -N 1 -n 4 -c 4 --qos=rail_gpu4_high -t 4:00:00 --mem=60G --parsable --requeue --comment="eval_best_of_N.n8" scripts/automatic/run.sh 'uv run evaluation/brc_eval_scripts/eval_libero_best_of_N_single_n.py --n 8 --actor_restore_path "exp/multitask_RL/bcflowactor_only/libero_90-living_room_scene1/bcflowactor_livingroomscene1__alphabet_soup_25_demos_IMAGE_sd00020251228_175933/params_140000.pkl" --critic_restore_path "exp/multitask_RL/instruction_following_Q/libero_90-living_room_scene1/libero90_livingroomscene1_singletask_one_other_task__augmentation_IMAGE_sd00020251226_215816/params_250000.pkl" --env_name "libero_90-living_room_scene1" --task_name "pick_up_the_alphabet_soup_and_put_it_in_the_basket|pick_up_the_ketchup_and_put_it_in_the_basket" --wandb_entity yajatyadav --wandb_project multitask_RL --wandb_group eval_libero_best_of_N --wandb_name eval_libero90_livingroomscene1_singletask_one_other_task_augmentation_actor_25_demos_140k_step_critic_250k_step --output_dir ./eval_results') && echo $jobid3
jobid4=$(WANDB_SERVICE_WAIT=86400 WANDB_NETWORK_TIMEOUT=600 WANDB_FILE_TRANSFER_TIMEOUT=1200 WANDB_INIT_TIMEOUT=300 WANDB_HTTP_TIMEOUT=600 WANDB_RETRY_ATTEMPTS=15 WANDB_RETRY_WAIT_MIN=5 WANDB_RETRY_WAIT_MAX=120 MUJOCO_GL=egl XLA_PYTHON_CLIENT_PREALLOCATE=false OMP_NUM_THREADS=1 OPENBLAS_NUM_THREADS=1 MKL_NUM_THREADS=1 VECLIB_MAXIMUM_THREADS=1 NUMEXPR_NUM_THREADS=1 sbatch -A co_rail -p savio4_gpu --gres=gpu:A5000:1 -N 1 -n 4 -c 4 --qos=rail_gpu4_high -t 4:00:00 --mem=60G --parsable --requeue --comment="eval_best_of_N.n16" scripts/automatic/run.sh 'uv run evaluation/brc_eval_scripts/eval_libero_best_of_N_single_n.py --n 16 --actor_restore_path "exp/multitask_RL/bcflowactor_only/libero_90-living_room_scene1/bcflowactor_livingroomscene1__alphabet_soup_25_demos_IMAGE_sd00020251228_175933/params_140000.pkl" --critic_restore_path "exp/multitask_RL/instruction_following_Q/libero_90-living_room_scene1/libero90_livingroomscene1_singletask_one_other_task__augmentation_IMAGE_sd00020251226_215816/params_250000.pkl" --env_name "libero_90-living_room_scene1" --task_name "pick_up_the_alphabet_soup_and_put_it_in_the_basket|pick_up_the_ketchup_and_put_it_in_the_basket" --wandb_entity yajatyadav --wandb_project multitask_RL --wandb_group eval_libero_best_of_N --wandb_name eval_libero90_livingroomscene1_singletask_one_other_task_augmentation_actor_25_demos_140k_step_critic_250k_step --output_dir ./eval_results') && echo $jobid4
jobid5=$(WANDB_SERVICE_WAIT=86400 WANDB_NETWORK_TIMEOUT=600 WANDB_FILE_TRANSFER_TIMEOUT=1200 WANDB_INIT_TIMEOUT=300 WANDB_HTTP_TIMEOUT=600 WANDB_RETRY_ATTEMPTS=15 WANDB_RETRY_WAIT_MIN=5 WANDB_RETRY_WAIT_MAX=120 MUJOCO_GL=egl XLA_PYTHON_CLIENT_PREALLOCATE=false OMP_NUM_THREADS=1 OPENBLAS_NUM_THREADS=1 MKL_NUM_THREADS=1 VECLIB_MAXIMUM_THREADS=1 NUMEXPR_NUM_THREADS=1 sbatch -A co_rail -p savio4_gpu --gres=gpu:A5000:1 -N 1 -n 4 -c 4 --qos=rail_gpu4_high -t 4:00:00 --mem=60G --parsable --requeue --comment="eval_best_of_N.n32" scripts/automatic/run.sh 'uv run evaluation/brc_eval_scripts/eval_libero_best_of_N_single_n.py --n 32 --actor_restore_path "exp/multitask_RL/bcflowactor_only/libero_90-living_room_scene1/bcflowactor_livingroomscene1__alphabet_soup_25_demos_IMAGE_sd00020251228_175933/params_140000.pkl" --critic_restore_path "exp/multitask_RL/instruction_following_Q/libero_90-living_room_scene1/libero90_livingroomscene1_singletask_one_other_task__augmentation_IMAGE_sd00020251226_215816/params_250000.pkl" --env_name "libero_90-living_room_scene1" --task_name "pick_up_the_alphabet_soup_and_put_it_in_the_basket|pick_up_the_ketchup_and_put_it_in_the_basket" --wandb_entity yajatyadav --wandb_project multitask_RL --wandb_group eval_libero_best_of_N --wandb_name eval_libero90_livingroomscene1_singletask_one_other_task_augmentation_actor_25_demos_140k_step_critic_250k_step --output_dir ./eval_results') && echo $jobid5
jobid6=$(WANDB_SERVICE_WAIT=86400 WANDB_NETWORK_TIMEOUT=600 WANDB_FILE_TRANSFER_TIMEOUT=1200 WANDB_INIT_TIMEOUT=300 WANDB_HTTP_TIMEOUT=600 WANDB_RETRY_ATTEMPTS=15 WANDB_RETRY_WAIT_MIN=5 WANDB_RETRY_WAIT_MAX=120 MUJOCO_GL=egl XLA_PYTHON_CLIENT_PREALLOCATE=false OMP_NUM_THREADS=1 OPENBLAS_NUM_THREADS=1 MKL_NUM_THREADS=1 VECLIB_MAXIMUM_THREADS=1 NUMEXPR_NUM_THREADS=1 sbatch -A co_rail -p savio4_gpu --gres=gpu:A5000:1 -N 1 -n 4 -c 4 --qos=rail_gpu4_high -t 4:00:00 --mem=60G --parsable --requeue --comment="eval_best_of_N.n64" scripts/automatic/run.sh 'uv run evaluation/brc_eval_scripts/eval_libero_best_of_N_single_n.py --n 64 --actor_restore_path "exp/multitask_RL/bcflowactor_only/libero_90-living_room_scene1/bcflowactor_livingroomscene1__alphabet_soup_25_demos_IMAGE_sd00020251228_175933/params_140000.pkl" --critic_restore_path "exp/multitask_RL/instruction_following_Q/libero_90-living_room_scene1/libero90_livingroomscene1_singletask_one_other_task__augmentation_IMAGE_sd00020251226_215816/params_250000.pkl" --env_name "libero_90-living_room_scene1" --task_name "pick_up_the_alphabet_soup_and_put_it_in_the_basket|pick_up_the_ketchup_and_put_it_in_the_basket" --wandb_entity yajatyadav --wandb_project multitask_RL --wandb_group eval_libero_best_of_N --wandb_name eval_libero90_livingroomscene1_singletask_one_other_task_augmentation_actor_25_demos_140k_step_critic_250k_step --output_dir ./eval_results') && echo $jobid6
jobid7=$(WANDB_SERVICE_WAIT=86400 WANDB_NETWORK_TIMEOUT=600 WANDB_FILE_TRANSFER_TIMEOUT=1200 WANDB_INIT_TIMEOUT=300 WANDB_HTTP_TIMEOUT=600 WANDB_RETRY_ATTEMPTS=15 WANDB_RETRY_WAIT_MIN=5 WANDB_RETRY_WAIT_MAX=120 MUJOCO_GL=egl XLA_PYTHON_CLIENT_PREALLOCATE=false OMP_NUM_THREADS=1 OPENBLAS_NUM_THREADS=1 MKL_NUM_THREADS=1 VECLIB_MAXIMUM_THREADS=1 NUMEXPR_NUM_THREADS=1 sbatch -A co_rail -p savio4_gpu --gres=gpu:A5000:1 -N 1 -n 4 -c 4 --qos=rail_gpu4_high -t 4:00:00 --mem=60G --parsable --requeue --comment="eval_best_of_N.n128" scripts/automatic/run.sh 'uv run evaluation/brc_eval_scripts/eval_libero_best_of_N_single_n.py --n 128 --actor_restore_path "exp/multitask_RL/bcflowactor_only/libero_90-living_room_scene1/bcflowactor_livingroomscene1__alphabet_soup_25_demos_IMAGE_sd00020251228_175933/params_140000.pkl" --critic_restore_path "exp/multitask_RL/instruction_following_Q/libero_90-living_room_scene1/libero90_livingroomscene1_singletask_one_other_task__augmentation_IMAGE_sd00020251226_215816/params_250000.pkl" --env_name "libero_90-living_room_scene1" --task_name "pick_up_the_alphabet_soup_and_put_it_in_the_basket|pick_up_the_ketchup_and_put_it_in_the_basket" --wandb_entity yajatyadav --wandb_project multitask_RL --wandb_group eval_libero_best_of_N --wandb_name eval_libero90_livingroomscene1_singletask_one_other_task_augmentation_actor_25_demos_140k_step_critic_250k_step --output_dir ./eval_results') && echo $jobid7
